<mat-progress-spinner
  [mode]="'indeterminate'"
  *ngIf="loading | async"
></mat-progress-spinner>

<div class="Guest--list--header--container">
  <h1 class="Guest--list--header--text">ï·½</h1>
  <div class="Guest--list--header--details">
    <h2>Guest list</h2>
    <h3>Total Guest: {{ totalGuest }}</h3>
  </div>
</div>

<div
  class="guest--list--table-container"
  *ngIf="!isLoading && pagedItems.length !== 0"
>
  <div class="guest--list--table">
    <mat-accordion *ngFor="let guest of pagedItems">
      <mat-expansion-panel class="example-headers-align">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ guest.guest[0].firstName }}
            {{ guest.guest[0].lastName }}
          </mat-panel-title>

          <mat-panel-description>
            Party size: {{ guest.guest.length }}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <div class="guest-list">
          <div *ngFor="let guestNames of guest.guest">
            <div>
              <p>
                {{ guestNames.firstName }}

                {{ guestNames.lastName }}
              </p>
            </div>
          </div>
        </div>
        <!-- <p>{{ guest?.dateRsvp | date : "M/d/yy, h:mm a" }}</p> -->
      </mat-expansion-panel>
    </mat-accordion>
    <mat-paginator
      [length]="totalItems"
      [pageSize]="itemsPerPage"
      [pageSizeOptions]="[5, 10, 25, 100]"
      aria-label="Select page"
      (page)="pageChanged($event)"
    >
    </mat-paginator>
  </div>
</div>
